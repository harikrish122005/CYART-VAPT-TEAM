# Advanced Exploitation Lab

This repository documents an advanced exploitation lab performed in a controlled environment.  
All observations, findings, and outcomes are strictly based on **actual commands executed, responses received, and access achieved** during testing.

---

## Lab Environment

- Target OS: Ubuntu 20.04 LTS
- Target IP: 10.49.129.128
- Access Type: Web Application â†’ System Access
- Tools Used:
  - Python
  - Netcat
  - LinPEAS
  - SSH
  - Linux native utilities

---

## 1. Initial Reconnaissance

Initial enumeration identified an exposed web application running over HTTP.

**Observed Endpoint**

**Observation**
- The endpoint was publicly accessible
- Content confirmed application functionality and potential attack surface

---

## 2. Local File Inclusion (LFI) Discovery

Further testing identified a Local File Inclusion vulnerability via a PHP parameter accepting file paths.

**Observation**
- Arbitrary file inclusion was possible
- PHP filter wrappers were accepted

---

## 3. Exploit Chain: LFI to Remote Code Execution

The LFI vulnerability was escalated to Remote Code Execution using a crafted PHP filter chain.

**Observed Behavior**
- PHP filter chain payload successfully generated
- Payload executed server-side
- Reverse shell initiated from target


---

## 4. Post-Exploitation Access

Following successful exploitation, stable shell access was obtained and upgraded.

**Observation**
- SSH access established to the target system
- Interactive and persistent access confirmed



---

## 5. Privilege Escalation Enumeration

Privilege escalation enumeration was performed to identify misconfigurations.

**Observation**
- Enumeration revealed misconfigured SUID binaries
- Escalation paths validated


---

## 6. Privilege Escalation via SUID Binary Abuse

A misconfigured SUID binary (`xxd`) was abused to access restricted system files.

**Observed Results**
- SUID permissions confirmed
- `/etc/shadow` successfully read
- Privileged access escalated


---

## 7. Persistence Mechanisms

Persistence was established to maintain access across reboots.

### 7.1 systemd Service & Timer Persistence

**Observation**
- Custom systemd service created
- Timer configured to execute privileged action on boot


### 7.2 SSH Key-Based Persistence

**Observation**
- SSH key pair generated on attacker system
- Public key added to target user `authorized_keys`

---

## 8. Final Privilege State

**Outcome**
- Full root privileges obtained
- Persistent access mechanisms verified

---

## Conclusion

This lab demonstrates a full exploitation lifecycle:

- Web application reconnaissance
- LFI discovery and validation
- LFI to RCE exploit chaining
- Shell access and stabilization
- Privilege escalation via SUID misconfiguration
- Long-term persistence through system services and SSH keys

The compromise was achieved through **chained logic and configuration flaws**, without the need for kernel exploits or complex payloads.

---
